# –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Code to Image MCP

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (29 –Ω–æ—è–±—Ä—è 2025)

**Code to Image MCP** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∫–æ–¥–∞ –∏ –¥–∏–∞–≥—Ä–∞–º–º.

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∫–æ–¥–∞ (Pygments + Pillow)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PlantUML –¥–∏–∞–≥—Ä–∞–º–º (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Smetana, –±–µ–∑ Graphviz)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: WEBP, PNG, JPEG –¥–ª—è –∫–æ–¥–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: PNG, SVG, EPS, PDF –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º
- ‚úÖ –ë–∞–∑–æ–≤–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `scale_factor` (3x –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä —à—Ä–∏—Ñ—Ç–æ–≤ (JetBrainsMono, FiraCode, CascadiaCode)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏
- ‚úÖ –û–¥–Ω–∞ —Ç–µ–º–∞ PlantUML (`default.puml`)

### ‚ùå –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è

- ‚ùå –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞ –≤—ã–≥–ª—è–¥–∏—Ç "—Ä–æ–±–æ—Ç—Å–∫–æ–π" –∏ –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π
- ‚ùå AI-–º–æ–¥–µ–ª–∏ –¥–µ–ª–∞—é—Ç –∫—Ä–∏–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã (–Ω–µ—Ç –≥–∞–π–¥–æ–≤)
- ‚ùå –ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤
- ‚ùå –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 2K/4K (–º—É—Ç–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- ‚ùå –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

## üéØ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π üî¥

**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫—Ä–∏—Å—Ç–∞–ª—å–Ω—É—é —á–µ—Ç–∫–æ—Å—Ç—å –¥–ª—è Full HD, 2K –∏ 4K –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π (YouTube –≤ 4K).

#### –ó–∞–¥–∞—á–∏

1. **–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏–∫—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –º—É—Ç–Ω—ã–µ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `scale_factor` –¥–ª—è PlantUML –¥–∏–∞–≥—Ä–∞–º–º
   - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
     - –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PlantUML JAR (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã `-dpi`, `-scale`)
     - –î–æ–±–∞–≤–∏—Ç—å –≤ `render_diagram_from_string()` –ø–∞—Ä–∞–º–µ—Ç—Ä `dpi` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 300)
     - –û–±–Ω–æ–≤–∏—Ç—å MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `generate_architecture_diagram`

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è WebP —Å–∂–∞—Ç–∏—è –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** PNG –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ 2-3 –ú–ë
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É WebP –¥–ª—è PlantUML
   - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
     - PlantUML —Ä–µ–Ω–¥–µ—Ä–∏—Ç PNG ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ WebP —á–µ—Ä–µ–∑ Pillow
     - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `quality` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 95)
     - –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —É—Ç–∏–ª–∏—Ç—É

3. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `image_utils.py`**
   - **–¶–µ–ª—å:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è/—Å–∂–∞—Ç–∏—è
   - **–§—É–Ω–∫—Ü–∏–∏:**
     - `convert_to_webp(png_path, quality=95) -> str` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PNG ‚Üí WebP
     - `scale_image(image_path, scale_factor) -> Image` - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ò –¥–ª—è –∫–æ–¥–∞, –∏ –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

- üìê –î–∏–∞–≥—Ä–∞–º–º—ã –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- üíæ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –≤ 3-5 —Ä–∞–∑ –º–µ–Ω—å—à–µ (WebP –≤–º–µ—Å—Ç–æ PNG)
- üîß –ú–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è üü°

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ —Ç–µ–º—ã PlantUML –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤.

#### –ó–∞–¥–∞—á–∏

1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å PlantUML —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π**
   - **–ò—Å—Ç–æ—á–Ω–∏–∫:** –ü—Ä–æ–µ–∫—Ç—ã —Å –ª–µ–∫—Ü–∏—è–º–∏ –¥–ª—è –¥–µ—Ç–µ–π ("–º–∞—Ç—ë—Ä—ã–π CSS")
   - **–ß—Ç–æ –∏–∑–≤–ª–µ—á—å:**
     - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å—Ç—Ä–µ–ª–æ–∫
     - –°—Ç–∏–ª–µ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤, –∫–ª–∞—Å—Å–æ–≤
     - –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è
   - **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI-–∞–≥–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –∞—Ä—Ö–∏–≤–∞—Ö

2. **–°–æ–∑–¥–∞—Ç—å 3-4 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–º—ã PlantUML**
   - **–§–∞–π–ª—ã –≤ `asset/themes/`:**
     - `dark.puml` - —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ (–æ—Å–Ω–æ–≤–Ω–∞—è)
     - `light.puml` - —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
     - `green.puml` - –∑–µ–ª—ë–Ω–∞—è –∞–∫—Ü–µ–Ω—Ç–Ω–∞—è —Ç–µ–º–∞
     - `purple.puml` - —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∞–∫—Ü–µ–Ω—Ç–Ω–∞—è —Ç–µ–º–∞
   - **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à—Ä–∏—Ñ—Ç—ã JetBrainsMono/FiraCode –∏–∑ `asset/fonts/`
     - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
     - –ß—ë—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Ü–≤–µ—Ç–æ–≤ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–ª–æ, —Å–≤—è–∑–∏)
     - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –¥–∏–∞–≥—Ä–∞–º–º (class, sequence, component)

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤**
   - **–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `doc/plantuml_guides/`:**

     ```
     doc/plantuml_guides/
     ‚îú‚îÄ‚îÄ class_diagram.md        # –î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤
     ‚îú‚îÄ‚îÄ sequence_diagram.md     # –î–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
     ‚îú‚îÄ‚îÄ component_diagram.md    # –î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
     ‚îú‚îÄ‚îÄ activity_diagram.md     # –î–∏–∞–≥—Ä–∞–º–º—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
     ‚îî‚îÄ‚îÄ themes_overview.md      # –û–±–∑–æ—Ä —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
     ```

   - **–§–æ—Ä–º–∞—Ç –∫–∞–∂–¥–æ–≥–æ –≥–∞–π–¥–∞:**
     - **Brief —Å–µ–∫—Ü–∏—è:** –°–∂–∞—Ç–∞—è —Å–ø—Ä–∞–≤–∫–∞ (3-5 —Å—Ç—Ä–æ–∫), —Ñ–ª–∞–≥–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è
     - **Detailed —Å–µ–∫—Ü–∏—è:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
     - **Common Mistakes:** –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ AI-–º–æ–¥–µ–ª–µ–π
     - **Best Practices:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—é

4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏**
   - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**

     ```
     code_to_image_mcp/
     ‚îú‚îÄ‚îÄ server.py                    # MCP —Å–µ—Ä–≤–µ—Ä (—Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫)
     ‚îú‚îÄ‚îÄ src/
     ‚îÇ   ‚îú‚îÄ‚îÄ tools/                   # MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (—Ç–æ–Ω–∫–∏–π —Å–ª–æ–π)
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ code_screenshot.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diagram_generator.py
     ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plantuml_guide.py    # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–∞–π–¥–æ–≤
     ‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ code_renderer.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diagram_renderer.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ image_utils.py       # –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ/—Å–∂–∞—Ç–∏–µ
     ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ font_manager.py
     ‚îÇ   ‚îî‚îÄ‚îÄ constants.py
     ‚îú‚îÄ‚îÄ asset/
     ‚îÇ   ‚îú‚îÄ‚îÄ fonts/
     ‚îÇ   ‚îú‚îÄ‚îÄ bins/
     ‚îÇ   ‚îî‚îÄ‚îÄ themes/                  # 4 —Ç–µ–º—ã
     ‚îî‚îÄ‚îÄ doc/
         ‚îî‚îÄ‚îÄ plantuml_guides/         # –ì–∞–π–¥—ã –¥–ª—è AI
     ```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

- üé® 4 –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã PlantUML
- üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤
- üèóÔ∏è –°–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∂–µ)

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–∞–π–¥–æ–≤ PlantUML üü¢

**–¶–µ–ª—å:** MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–∞–π–¥–æ–≤ –ø–æ —Ç–∏–ø–∞–º –¥–∏–∞–≥—Ä–∞–º–º (—Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å —á—Ç–æ —Ä–∞–∑–¥–∞–≤–∞—Ç—å!).

#### –ó–∞–¥–∞—á–∏

1. **–°–æ–∑–¥–∞—Ç—å MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `get_plantuml_guide`**
   - **–§–∞–π–ª:** `src/tools/plantuml_guide.py` (–±—É–¥—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞) –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ `server.py`
   - **–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**

     ```python
     @mcp.tool()
     def get_plantuml_guide(
         diagram_type: Literal["class", "sequence", "component", "activity"],
         detail_level: Literal["brief", "detailed"] = "brief"
     ) -> str:
         """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–∞–π–¥ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é PlantUML –¥–∏–∞–≥—Ä–∞–º–º.
         
         Args:
             diagram_type: –¢–∏–ø –¥–∏–∞–≥—Ä–∞–º–º—ã
             detail_level: –£—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (brief - —Å–∂–∞—Ç–∞—è —Å–ø—Ä–∞–≤–∫–∞, detailed - —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏)
         
         Returns:
             –¢–µ–∫—Å—Ç –≥–∞–π–¥–∞ –∏–∑ doc/plantuml_guides/
         """
     ```

   - **–õ–æ–≥–∏–∫–∞:**
     - –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª `doc/plantuml_guides/{diagram_type}_diagram.md`
     - –ü–∞—Ä—Å–∏—Ç —Å–µ–∫—Ü–∏–∏ `# Brief` –∏–ª–∏ `# Detailed` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `detail_level`
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≥–∞–π–¥–∞

2. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ `generate_architecture_diagram`**
   - **–ü—Ä–∏ PlantUMLSyntaxError:**

     ```python
     return {
         "success": False,
         "error": str(e),
         "suggestion": (
             "–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ PlantUML –∫–æ–¥–µ. "
             "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç get_plantuml_guide –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏. "
             f"–ù–∞–ø—Ä–∏–º–µ—Ä: get_plantuml_guide(diagram_type='class', detail_level='detailed')"
         )
     }
     ```

   - **–ü—Ä–∏ PlantUMLRenderError:**

     ```python
     return {
         "success": False,
         "error": str(e),
         "suggestion": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Java –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å PlantUML –∫–æ–¥–∞."
     }
     ```

3. **–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `list_plantuml_themes`**
   - **–¶–µ–ª—å:** –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
   - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

     ```python
     @mcp.tool()
     def list_plantuml_themes() -> dict:
         """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–º PlantUML —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏."""
         return {
             "themes": [
                 {"name": "dark", "description": "–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)"},
                 {"name": "light", "description": "–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞"},
                 {"name": "green", "description": "–ó–µ–ª—ë–Ω–∞—è –∞–∫—Ü–µ–Ω—Ç–Ω–∞—è —Ç–µ–º–∞"},
                 {"name": "purple", "description": "–§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∞–∫—Ü–µ–Ω—Ç–Ω–∞—è —Ç–µ–º–∞"}
             ]
         }
     ```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

- ü§ñ AI-–∞–≥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–∞–π–¥—ã –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- üí° –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- üé® –£–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç

### –≠—Ç–∞–ø 1: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –¥–Ω—è)

1. ‚úÖ –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å PlantUML –ø–∞—Ä–∞–º–µ—Ç—Ä—ã DPI/scale
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `src/utils/image_utils.py`
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `scale_factor`/`dpi` –≤ `diagram_renderer.py`
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WebP –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `generate_architecture_diagram` —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
6. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 2K/4K

### –≠—Ç–∞–ø 2: –¢–µ–º—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3-5 –¥–Ω–µ–π)

1. ‚úÖ –ü–æ–∏—Å–∫ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å PlantUML —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `dark.puml`, `light.puml`, `green.puml`, `purple.puml`
3. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å –≥–∞–π–¥—ã:
   - `class_diagram.md`
   - `sequence_diagram.md`
   - `component_diagram.md`
   - `activity_diagram.md`
   - `themes_overview.md`
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞—Ö –¥–∏–∞–≥—Ä–∞–º–º
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–º

### –≠—Ç–∞–ø 3: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–∞–π–¥–æ–≤ (1-2 –¥–Ω—è)

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `get_plantuml_guide()`
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `list_plantuml_themes()`
3. ‚úÖ –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ README
5. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

---

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ `src/tools/` –∏ `src/utils/`
- –ß–∏—Å—Ç—ã–π –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–∞–≥—Ä–∞–º–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `.puml` —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–º–∏–º–æ MCP
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Mermaid –¥–∏–∞–≥—Ä–∞–º–º?

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ ‚â•80%
- Pre-commit hooks (black, ruff, pytest)
- GitHub Actions CI/CD
- Type hints + mypy –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞

- **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º:** –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –º–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –ö—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á—ë—Ç–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- **–£–¥–æ–±—Å—Ç–≤–æ:** –î–ª—è –ª—é–¥–µ–π –ò AI-–∞–≥–µ–Ω—Ç–æ–≤
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 29 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞  
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** –ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ-–∑–∞–ø–∏—Å–µ–π "MCP code to image.m4a" –∏ "MCP to image p2.m4a"  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω —É—Ç–≤–µ—Ä–∂–¥—ë–Ω, –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
